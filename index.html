<html lang="en"><head>

  <meta charset="UTF-8">
  
<link rel="apple-touch-icon" type="image/png" href="./img/ee1.jpeg">
<meta name="apple-mobile-web-app-title" content="CodePen">

<link rel="shortcut icon" type="image/x-icon" href="./img/ee1.jpeg">

<link rel="mask-icon" type="image/x-icon" href="./img/ee1.jpeg" color="#111">


  <title>Image to text </title>
  
  
  <style>
  body {
    background: linear-gradient(90deg, #0084bf, #0c8996 50%);
}
</style>

</head>

<body translate="no">
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
    }
  
    .container {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
      min-height: 100vh;
    }
  
    .column {
      flex: 1 1 50%;
      padding: 1rem;
      box-sizing: border-box;
    }
  
    .drop-zone {
      border: 2px dashed #aaa;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      background: #f9f9f9;
    }
  
    #pastedImage {
      max-width: 100%;
      height: auto;
      display: block;
      margin-top: 1rem;
    }
  
    #Output {
      width: 100%;
      height: 400px;
      padding: 10px;
      margin-top: 1rem;
      box-sizing: border-box;
      font-family: monospace;
    }
  
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }
    }
  
    button {
      margin-right: 10px;
    }
  </style>
  
  <div class="container">
    <!-- LEFT: Upload/Drop -->
    <div class="column">
      <h2>Upload or Drag Image</h2>
      <div class="drop-zone" id="dropZone">
        Drop image here or click to upload
        <input type="file" id="fileInput" accept="image/*" style="display: none;">
      </div>
      <img id="pastedImage" class="draggable" />
    </div>
  
    <!-- RIGHT: OCR Output -->
    <div class="column">
      <h2> Output</h2>
      <div>
        <button id="copyOutput">Copy</button>
        <button id="cleanBlankLines">Clean</button>
        <button id="clearOutput">Clear</button>
      </div>
      <textarea id="Output" placeholder="Text will appear here..."></textarea>
    </div>
  </div>
  
  <script src="tesseract.min.js"></script>
<script>
  const fileInput = document.getElementById('fileInput');
  const dropZone = document.getElementById('dropZone');
  const imagePreview = document.getElementById('pastedImage');
  const outputArea = document.getElementById('Output');
  const lang = 'eng'; // default to English

  dropZone.addEventListener('click', () => fileInput.click());

  fileInput.addEventListener('change', (e) => {
    if (e.target.files.length > 0) {
      handleImage(e.target.files[0]);
    }
  });

  dropZone.addEventListener('dragover', (e) => {
    e.preventDefault();
    dropZone.style.background = '#e0f7fa';
  });

  dropZone.addEventListener('dragleave', (e) => {
    dropZone.style.background = '#f9f9f9';
  });

  dropZone.addEventListener('drop', (e) => {
    e.preventDefault();
    dropZone.style.background = '#f9f9f9';
    if (e.dataTransfer.files.length > 0) {
      handleImage(e.dataTransfer.files[0]);
    }
  });

  function handleImage(file) {
    const reader = new FileReader();
    reader.onload = function (e) {
      imagePreview.src = e.target.result;
      runOCR(file);
    };
    reader.readAsDataURL(file);
  }

  function runOCR(imageFile) {
    outputArea.value = 'Processing...';
    Tesseract.recognize(imageFile, lang, {
      logger: m => {
        outputArea.value = `${m.status} ${Math.round(m.progress * 100)}%`;
      }
    }).then(({ data: { text } }) => {
      outputArea.value = text;
    });
  }

  document.getElementById("copyOutput").addEventListener("click", () => {
    outputArea.select();
    document.execCommand("copy");
  });

  document.getElementById("cleanBlankLines").addEventListener("click", () => {
    outputArea.value = outputArea.value.replace(/^\s*$(?:\r\n?|\n)/gm, '');
  });

  document.getElementById("clearOutput").addEventListener("click", () => {
    outputArea.value = '';
  });
</script>




 
</body></html>